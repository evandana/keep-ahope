version: 2
jobs:
  test_release:
    branches:
      only:
        - develop
    docker:
      - image: circleci/node:10
    steps:
      - checkout
  release:
    branches:
      only:
        - master
    docker:
      - image: circleci/node:10
    steps:
      - checkout
      - run: npx semantic-release
workflows:
  version: 2
  ship_it:
    jobs:
      - release:
        requires: 
          - test_release